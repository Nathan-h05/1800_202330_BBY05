<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" type="text/css" href="styles/camera.css">
    <title>Upload Page</title>
    <meta name="comp1800 template" content="My 1800 App">

    <!------------------------>
    <!-- Required meta tags -->
    <!------------------------>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!------------------------------------------>
    <!-- Bootstrap Library CSS JS CDN go here -->
    <!------------------------------------------>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>

    <!-------------------------------------------------------->
    <!-- Firebase 8 Library related CSS, JS, JQuery go here -->
    <!-------------------------------------------------------->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.js"></script> 
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.8.1/firebase-ui-auth.css" />

    <!-------------------------------------------->
    <!-- Other libraries and styles of your own -->
    <style>
        body {
            text-align: center;
        }
        .top {
            margin: 20px 0;
        }
        .bottom {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f2f2f2;
            padding: 10px;
            text-align: center;
        }
        @media screen and (max-width: 600px) {
            .map1{
                width: 90%;
                height: 300px;
            }
        }
        body {
            background: radial-gradient(circle at bottom, rgb(155, 155, 247) 0, black 100%);
height: 100vh;
overflow: auto; /* or overflow: scroll; */
}

        
        
        
    </style>
    <!-------------------------------------------->
    <!-- <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->
    <!-- <link rel="stylesheet" href="./styles/style.css"> -->

</head>

<body>
    <!------------------------------>
    <!-- Your HTML Layout go here -->
    <!------------------------------>

    <!-- our own navbar goes here -->
    <nav id="navbarPlaceholder"></nav>

    <!-- the body of your page goes here -->
       <!-- Upload Page Content -->
       <div style="background-color: antiquewhite;"><h1>Upload a Photo and Add Location</h1></div>
       <!-- Upload form and map here -->
       <br>

       <center> 
       <script>
           // Function to find the latest image file in the folder
           function findLatestImage() {
               let latestImage = new Image();
               let latestImageNumber = 0;
   
               // Assuming images are stored in the /images folder
               const folderPath = '/images/';
               
               // Loop through images to find the latest one
               for (let i = 1; i <= latestImageNumber; i++) {
                   const imageUrl = folderPath + `captured-photo(${i}).png`;
                   let image = new Image();
                   image.src = imageUrl;
                   
                   // Check if the image exists
                   image.onload = function() {
                       latestImageNumber = i;
                       latestImage.src = imageUrl;
                   };
               }
           }
   
           // Call the function to find and display the latest image
           findLatestImage();
       </script>
       <form action="#" method="post" enctype="multipart/form-data">
        <input type="file" id="imageInput" accept="image/*" style="display: none;" />
        
        <img id="preview" src="" alt="Image Preview" style="max-width: 300px; display: none;" /><br>
        <button style="background-color: rgb(135, 135, 242);border-radius: 20%;" type="button" onclick="document.getElementById('imageInput').click();">Choose Image</button>
    </form></center>

    <script>
        document.getElementById('imageInput').addEventListener('change', function() {
            var preview = document.getElementById('preview');
            var file = this.files[0];
            var reader = new FileReader();

            reader.onload = function() {
                preview.src = reader.result;
                preview.style.display = 'block';
            };

            if (file) {
                reader.readAsDataURL(file);
            }
        });
    </script>

<form class="button">
    <label style="font-size: large;" for="description">Title:</label><br>
    <textarea style="width: 70%;border-radius: 10%;background-color: blanchedalmond;" placeholder="Description" id="description" rows="5"></textarea><br>
    
    <label style="font-size: large;" for="Date">Description:</label><br>
    <textarea style="width: 70%;border-radius: 10%;background-color: blanchedalmond;" placeholder="Date" id="Date" rows="5"></textarea><br>
    
    <label style="font-size: large;" for="Evacuation and rescue">Tag:</label><br>
    <textarea style="width: 70%;border-radius: 10%;background-color: blanchedalmond;" placeholder="Tag" id="Evacuation" rows="5"></textarea><br>
    
    
    
</form>
<a href="cameraPage3.html"><button style="background-color: rgb(157, 157, 236); border-radius: 20%;" id="capture-button">Save</button></a>
<br><br><br><br>
   
    <!-- stuff -->

    <!-- our own footer goes here-->
    <nav id="footerPlaceholder"></nav>

    <!---------------------------------------------->
    <!-- Your own JavaScript functions go here    -->
    <!---------------------------------------------->
    <script src="./scripts/firebaseAPI_TEAM99.js"></script>
    <script src="./scripts/skeleton.js"></script>
    <!-- <script src="./scripts/script.js"></script> -->

</body>

</html>
